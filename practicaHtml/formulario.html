<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Formulario editable de Cliente</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
        rel="stylesheet">
</head>
<body class="bg-light">

<div class="container mt-5">
  <div class="card shadow p-4">
    <h2 class="text-center text-primary mb-4">Editar Información del Cliente</h2>

    <!-- Formulario con ID para capturar evento -->
    <form id="clienteForm">

      <!-- Campo: Nombre -->
      <div class="mb-3">
        <label for="nombre" class="form-label">Nombre completo</label>
        <input type="text" class="form-control" id="nombre" name="nombre" required>
      </div>

      <!-- Campo: Correo -->
      <div class="mb-3">
        <label for="correo" class="form-label">Correo electrónico</label>
        <input type="email" class="form-control" id="correo" name="correo" required>
      </div>

      <!-- Campo: Teléfono -->
      <div class="mb-3">
        <label for="telefono" class="form-label">Teléfono</label>
        <input type="tel" class="form-control" id="telefono" name="telefono" required>
      </div>

      <!-- Botón de guardar -->
      <button type="submit" class="btn btn-success w-100">Guardar</button>
    </form>
  </div>
</div>

<!-- JavaScript para manejo de cookies y carga automática -->
<script>
  // Función para obtener una cookie por nombre
  function obtenerCookie(nombreCookie) {
    const cookies = document.cookie.split('; ');
    for (let i = 0; i < cookies.length; i++) {
      const partes = cookies[i].split('=');
      if (partes[0] === nombreCookie) {
        return decodeURIComponent(partes[1]);
      }
    }
    return '';
  }

  // Cargar datos desde cookies si existen
  window.onload = function() {
    document.getElementById('nombre').value = obtenerCookie('nombre');
    document.getElementById('correo').value = obtenerCookie('correo');
    document.getElementById('telefono').value = obtenerCookie('telefono');
  }

  // Guardar o actualizar cookies al enviar el formulario
  document.getElementById('clienteForm').addEventListener('submit', function(e) {
    e.preventDefault();
    // Capturamos los datos ingresados
    const nombre = document.getElementById('nombre').value;
    const correo = document.getElementById('correo').value;
    const telefono = document.getElementById('telefono').value;

    // Guardamos/actualizamos cookies con duración de 1 día
    document.cookie = "nombre=" + encodeURIComponent(nombre) + "; max-age=86400; path=/";
    document.cookie = "correo=" + encodeURIComponent(correo) + "; max-age=86400; path=/";
    document.cookie = "telefono=" + encodeURIComponent(telefono) + "; max-age=86400; path=/";

    // Confirmación visual (opcional) o redirección
    alert("Datos guardados correctamente.");
    // Redirigimos al archivo que mostrará los datos
    window.location.href = "showClient.html";
  });
</script>

</body>
</html>
