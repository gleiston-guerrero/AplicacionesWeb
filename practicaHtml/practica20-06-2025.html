<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Geolocalizaci贸n con HTML5</title>
    <!-- Estilos b谩sicos con Bootstrap -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
</head>
<body class="bg-light" onload="limpiaCookies()">
<div class="container py-5">
    <h2 class="mb-4 text-primary"> Obtener mi ubicaci贸n</h2>
    <button class="btn btn-success mb-3" onclick="obtenerUbicacion()">Mostrar ubicaci贸n</button>
    <div id="resultado" class="alert alert-info" role="alert">
        Tu ubicaci贸n aparecer谩 aqu铆.
    </div>
    <button class="btn btn-success mb-3" onclick="mostrarMapa()">Mostrar ubicaci贸n</button>
</div>

<script>
    // Funci贸n para obtener la ubicaci贸n del usuario
    function obtenerUbicacion() {
        const resultado = document.getElementById("resultado");

        // Verifica si el navegador soporta geolocalizaci贸n
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(
                function(posicion) {
                    const lat = posicion.coords.latitude;
                    const lon = posicion.coords.longitude;

                    resultado.innerHTML = `<strong>Latitud:</strong> ${lat} <br> <strong>Longitud:</strong> ${lon}`;
                    document.cookie = `latitud=${lat}; expires=Fri, 31 Dec 2025 23:59:59 UTC; path=/`;
                    document.cookie = `longitud=${lon}; expires=Fri, 31 Dec 2025 23:59:59 UTC; path=/`;

                    resultado.classList.replace("alert-info", "alert-success");
                },
                function(error) {
                    resultado.innerHTML = `Error: ${error.message}`;
                    resultado.classList.replace("alert-info", "alert-danger");
                }
            );
        } else {
            resultado.innerHTML = "Tu navegador no soporta la API de Geolocalizaci贸n.";
            resultado.classList.replace("alert-info", "alert-warning");
        }
    }

    function mostrarMapa(){
        window.location.href = "mostrarMapa.html";
    }

    function limpiaCookies(){
        document.cookie = "latitud=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";
        document.cookie = "longitud=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";
    }
</script>
</body>
</html>
